# Initialise your project

To initialise your project, follow these steps:

### Create project :

```bash
npm create vite@latest my-app -- --template react-ts
cd my-app
npm install
```

### Setup coding styles :

#### Add EditorConfig

Configure EditorConfig by creating a file `.editorconfig` at the top level of your project with the following content :

```ini
# Top-most EditorConfig file
root = true

[*]
end_of_line = lf # Unix-style newlines
insert_final_newline = true # Newline ending every file
trim_trailing_whitespace = true # Trim whitespace preceding newlines
charset = utf-8 # Enforce consistent character set
indent_style = tab # Matter of taste
tab_width = 4 # Number of columns used to represent a tab character
```

When an inevitable exception comes up where you have a particular file type that needs to be formatted differently, you can simply override your [*] config for that type. For example:

```ini
# In the same file as above, below the definition for [*]
[*.{yaml,yml}]
tab_width = 2
```

Note that **Prettier** automatically adopts the values specified in an `.editorconfig` file for `tab_width`, `indent_style` and `end_of_line` unless overridden.

#### Add Prettier

Prettier is simple and fast, and is worth using in any JavaScript/TypeScript project. Install it with:

```bash
 npm install --save-dev prettier
```

Configure your settings by creating a `.prettierrc` file at the top level of your project. Here is the configuration I use :

```json
{
	"printWidth": 80,
	"useTabs": true,
	"semi": true,
	"singleQuote": true,
	"trailingComma": "es5",
	"bracketSpacing": true,
	"arrowParens": "always"
}
```

If you want to avoid running prettier against specific files or paths, you can add them to a `.prettierignore` file.

Vist this page to check the different [options](https://prettier.io/docs/options).

#### Add ESLint

ESLint helps maintain code quality and consistency.

ES lint is already installed by default (you should have a `esling.config.js` file)

To enhance your ESLint setup, install additional plugins and configurations with :

```bash
npm install --save-dev typescript-eslint \
	@stylistic/eslint-plugin \
	eslint-config-prettier \
	eslint-plugin-react \
	eslint-plugin-react-hooks \
	eslint-plugin-react-refresh \
	eslint-plugin-spellcheck \
	eslint-plugin-react-prefer-function-component
```

You can run EsLint with this command:

```bash
npm run lint
```

#### Add vscode settings

Use the `.vscode/extensions.json` file to recommend the preferred extensions :

```json
{
	"recommendations": [
		"dbaeumer.vscode-eslint",
		"esbenp.prettier-vscode",
		"editorconfig.editorconfig"
	]
}
```

Create a Workspace Settings file called `.vscode/settings.json` with this:

```json
{
	"editor.formatOnSave": true,
	"editor.defaultFormatter": "esbenp.prettier-vscode",
	"editor.codeActionsOnSave": {
		"source.fixAll.eslint": "explicit"
	}
}
```

#### Pre-commit hooks

If the developer managed to save files without running our formatting and linting tools on them, perhaps because they weren't using VS Code or didn't install the recommended extensions, then the next safeguard in our arsenal is pre-commit hooks. These are simply scripts that automatically run locally on our machine before we commit.

**Install the necessary packages:**

```bash
npm install --save-dev husky lint-staged
```

**Initialize Husky to create the .husky directory:**

```bash
npx husky install
```

It's also a good practice to add a prepare script to your `package.json` to automatically install Husky for other developers on your team:

```json
"scripts": {
  "prepare": "husky install"
}
```

**Add a pre-commit hook using Husky that runs lint-staged:**

```bash
npx husky add .husky/pre-commit "npx lint-staged"
```

This command creates a script file at `.husky/pre-commit`.

Configure lint-staged in your package.json file.

This tells lint-staged which commands to run for specific file
types:

```json
"lint-staged": {
  "*.{js,jsx,ts,tsx}": [
    "eslint --fix",
    "prettier --write"
  ],
  "*.{json,css,md}": [
    "prettier --write"
  ]
},
"scripts": {
  "lint": "eslint .",
  "format": "prettier --write .",
  "prepare": "husky install"
}
```

- `eslint --fix` automatically fixes fixable linting issues.
- `prettier --write` automatically formats the code.

## Cleanup

### Delete the following files:

- `public\vite.svg`
- `src\assets\react.svg`
- `src\App.css`

### Edit the following files:

- `src\App.tsx` - remove all content and replace with:

```tsx
function App() {
	return (
		<>
			<p>Hello!</p>
		</>
	);
}

export default App;
```

- `src\index.css` - remove all content and replace with:

```css
:root {
	font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
	line-height: 1.5;
	font-weight: 400;

	color-scheme: light dark;
	color: rgba(255, 255, 255, 0.87);
	background-color: #242424;

	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

body {
	margin: 0;
	display: flex;
	place-items: center;
	min-width: 320px;
	min-height: 100vh;
}
```
